(function(t){function e(e){for(var n,a,i=e[0],c=e[1],u=e[2],p=0,d=[];p<i.length;p++)a=i[p],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],n=!0,i=1;i<s.length;i++){var c=s[i];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=s[0]))}return t}var n={},r={app:0},o=[];function a(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=n,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(s,n,function(e){return t[e]}.bind(null,n));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/simple-posts/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"2aa4":function(t,e,s){},"2dd5":function(t,e,s){"use strict";s("a76e")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},o=[],a=(s("5c0b"),s("2877")),i={},c=Object(a["a"])(i,r,o,!1,null,null,null),u=c.exports,l=s("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("img",{staticClass:"logo",attrs:{alt:"Vue logo",width:"200",height:"200",src:s("cf05")}}),n("h1",{staticClass:"header"},[t._v("Simple blog")]),n("Posts")],1)},d=[],f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-posts"},[t.errored?s("div",[s("p",[t._v(" We're sorry, we're not able to retrieve this information at the moment, please try back later ")])]):s("div",[t.loading?s("div",{staticClass:"loading"},[t._v("Loading...")]):t._e()]),t._l(t.posts,(function(e,n){return s("article",{key:e.id,staticClass:"article"},[s("h2",{staticClass:"header-title"},[t._v(t._s(e.title))]),s("div",{staticClass:"wrapper-author"},t._l(t.authors,(function(n){return s("span",{key:n.id,staticClass:"author"},[t._v(" "+t._s(e.userId===n.id?n.name:null)+" ")])})),0),e.isFullText?t._e():s("p",{staticClass:"post-body"},[t._v(t._s(e.body.substr(0,100)+"..."))]),e.isFullText?s("p",{staticClass:"post-body"},[t._v(t._s(e.body))]):t._e(),s("div",{staticClass:"wrapper-btn"},[s("button",{staticClass:"btn-more",on:{click:function(e){return t.switchPostTextLength(n)}}},[t._v(" "+t._s(e.isFullText?"Read less":"Read more")+" ")]),s("button",{staticClass:"btn-delete",on:{click:function(s){return t.deletePost(e.id)}}},[t._v("Delete")])])])})),s("Pagination")],2)},g=[],h=s("1da1"),m=s("5530"),v=(s("96cf"),s("d3b7"),s("99af"),s("4de4"),"https://jsonplaceholder.typicode.com/"),b=s("2f62"),P=s("2909"),x=(s("a434"),s("a9e3"),{methods:{updatePage:function(){var t=10,e=Object(P["a"])(this.allPosts).splice(Number("".concat(this.page-1,"0")),t);this.$store.commit("setPosts",e)}}}),w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loading?t._e():s("div",{staticClass:"container"},[s("paginate",{attrs:{"page-count":t.pageCount,"click-handler":t.updatePage,"prev-text":"Prev","next-text":"Next","container-class":"pagination","page-class":"page-item","prev-class":"prev-item","next-class":"next-item","active-class":"active","disabled-class":"disable","margin-pages":1},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)},_=[],y=s("8832"),O=s.n(y),j={name:"Pagination",mixins:[x],components:{Paginate:O.a},mounted:function(){},computed:Object(m["a"])(Object(m["a"])({},Object(b["b"])({loading:"getLoading",allPosts:"getAllPosts"})),{},{page:{get:function(){return this.$store.state.page},set:function(t){this.$store.commit("setPage",t)}},pageCount:function(){return Math.ceil(this.allPosts.length/10)}})},k=j,E=(s("5eaf"),Object(a["a"])(k,w,_,!1,null,null,null)),T=E.exports,C={name:"Posts",mixins:[x],components:{Pagination:T},data:function(){return{}},mounted:function(){this.$store.dispatch("getAuthors"),this.$store.dispatch("getAllPosts")},computed:Object(m["a"])({},Object(b["b"])({allPosts:"getAllPosts",posts:"getPosts",authors:"getAuthors",loading:"getLoading",errored:"getErrored",page:"getPage"})),methods:{deletePostOfApi:function(t){return Object(h["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"posts/").concat(t),{method:"DELETE"});case 3:if(s=e.sent,s.ok){e.next=6;break}throw new Error("Error request, status: ".concat(s.status));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},deletePost:function(t){var e=this.allPosts.filter((function(e){return e.id!==t}));this.$store.commit("setAllPosts",e),this.updatePage(),0===this.posts.length&&(this.$store.commit("setPage",this.page-1),this.updatePage()),this.deletePostOfApi(t)},switchPostTextLength:function(t){this.posts[t].isFullText?this.$set(this.posts[t],"isFullText",!1):this.$set(this.posts[t],"isFullText",!0)}}},A=C,$=(s("784e"),Object(a["a"])(A,f,g,!1,null,"408f7d5e",null)),F=$.exports,L={name:"Home",components:{Posts:F}},R=L,S=(s("2dd5"),Object(a["a"])(R,p,d,!1,null,"22331d18",null)),M=S.exports;n["a"].use(l["a"]);var q=[{path:"/",name:"Home",component:M}],D=new l["a"]({mode:"history",base:"/simple-posts/",routes:q}),G=D;n["a"].use(b["a"]);var H=new b["a"].Store({state:{allPosts:[],posts:[],authors:[],loading:!0,errored:!1,page:1},mutations:{setAllPosts:function(t,e){t.allPosts=e},setPosts:function(t,e){t.posts=e},setAuthors:function(t,e){t.authors=e},setLoading:function(t,e){t.loading=e},setErrored:function(t,e){t.errored=e},setPage:function(t,e){t.page=e},setFullText:function(t,e){t.posts[e].isFullText?t.posts[e].isFullText=!1:t.posts[e].isFullText=!0}},actions:{getAllPosts:function(t){return Object(h["a"])(regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"posts"),{method:"GET"});case 3:if(s=e.sent,s.ok){e.next=6;break}throw new Error("Error request, status: ".concat(s.status));case 6:return e.next=8,s.json();case 8:n=e.sent,t.commit("setAllPosts",n),t.commit("setPosts",Object(P["a"])(n).splice(0,10)),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](0),console.log(e.t0),t.commit("setErrored",!0);case 17:return e.prev=17,t.commit("setLoading",!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})))()},getAuthors:function(t){return Object(h["a"])(regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"users"),{method:"GET"});case 3:if(s=e.sent,s.ok){e.next=6;break}throw new Error("Error request, status: ".concat(s.status));case 6:return e.next=8,s.json();case 8:n=e.sent,t.commit("setAuthors",n),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}},modules:{},getters:{getAllPosts:function(t){return t.allPosts},getPosts:function(t){return t.posts},getAuthors:function(t){return t.authors},getLoading:function(t){return t.loading},getErrored:function(t){return t.errored},getPage:function(t){return t.page}}});s("f5df1");n["a"].config.productionTip=!1,new n["a"]({router:G,store:H,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";s("9c0c")},"5eaf":function(t,e,s){"use strict";s("2aa4")},"784e":function(t,e,s){"use strict";s("d307")},"9c0c":function(t,e,s){},a76e:function(t,e,s){},cf05:function(t,e,s){t.exports=s.p+"img/logo.82b9c7a5.png"},d307:function(t,e,s){}});
//# sourceMappingURL=app.e58aa720.js.map